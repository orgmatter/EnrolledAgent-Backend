{"ast":null,"code":"import _slicedToArray from\"/opt/lampp/htdocs/new-enrolled-admin/new/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useForm}from\"react-hook-form\";import axios from\"../../redux/axios\";import{setUserSession}from\"../../Utils/Common\";// reactstrap components\nimport{Button,Card,CardHeader,CardBody,FormGroup,Form,Input,InputGroupAddon,InputGroupText,InputGroup,Row,Col}from\"reactstrap\";var Login=function Login(props){var _useForm=useForm(),register=_useForm.register,errors=_useForm.errors,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){//console.log(data);\nhandleLogin(data);};var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];// handle button click of login form\nvar handleLogin=function handleLogin(data){setError(\"\");setLoading(true);axios.post(\"/login\",data).then(function(response){setLoading(false);setUserSession(response.data.token,response.data.user);props.history.push(\"/admin/index\");}).catch(function(error){setLoading(false);if(error.response.status===401){setError(function(){return\"Invalid login details\";});}else setError(\"Something went wrong. Please try again later.\");});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Col,{lg:\"5\",md:\"7\"},/*#__PURE__*/React.createElement(Card,{className:\"bg-secondary shadow border-0\"},/*#__PURE__*/React.createElement(CardBody,{className:\"px-lg-5 py-lg-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"text-center text-muted mb-4\"},/*#__PURE__*/React.createElement(\"small\",null,\"Sign in with credentials\")),/*#__PURE__*/React.createElement(Form,{role:\"form\",onSubmit:handleSubmit(onSubmit)},/*#__PURE__*/React.createElement(FormGroup,{className:\"mb-3\"},/*#__PURE__*/React.createElement(InputGroup,{className:\"input-group-alternative\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-email-83\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Email\",type:\"email\",autoComplete:\"new-email\",name:\"email\",ref:register({required:true}),autoComplete:\"new-password\"}),/*#__PURE__*/React.createElement(\"br\",null),errors.email&&/*#__PURE__*/React.createElement(\"small\",{style:{color:\"red\"}},\"E-mail is required\"),/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(InputGroup,{className:\"input-group-alternative\"},/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"prepend\"},/*#__PURE__*/React.createElement(InputGroupText,null,/*#__PURE__*/React.createElement(\"i\",{className:\"ni ni-lock-circle-open\"}))),/*#__PURE__*/React.createElement(Input,{placeholder:\"Password\",type:\"password\",autoComplete:\"new-password\",name:\"password\",ref:register({required:true}),autoComplete:\"new-password\"}),/*#__PURE__*/React.createElement(\"br\",null),errors.password&&/*#__PURE__*/React.createElement(\"small\",{style:{color:\"red\"}},\"Password is required\"),/*#__PURE__*/React.createElement(\"br\",null),error&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"small\",{style:{color:\"red\"}},error),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null))),/*#__PURE__*/React.createElement(\"div\",{className:\"custom-control custom-control-alternative custom-checkbox\"},/*#__PURE__*/React.createElement(\"input\",{className:\"custom-control-input\",id:\" customCheckLogin\",type:\"checkbox\"}),/*#__PURE__*/React.createElement(\"label\",{className:\"custom-control-label\",htmlFor:\" customCheckLogin\"},/*#__PURE__*/React.createElement(\"span\",{className:\"text-muted\"},\"Remember me\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(Input,{className:\"my-4\",color:\"primary\",type:\"submit\",value:loading?\"Loading...\":\"Login\"}))))),/*#__PURE__*/React.createElement(Row,{className:\"mt-3\"},/*#__PURE__*/React.createElement(Col,{xs:\"6\"},/*#__PURE__*/React.createElement(\"a\",{className:\"text-light\",href:\"#pablo\",onClick:function onClick(e){return e.preventDefault();}},/*#__PURE__*/React.createElement(\"small\",null,\"Forgot password?\"))))));};export default Login;","map":{"version":3,"sources":["/opt/lampp/htdocs/new-enrolled-admin/new/src/views/auth/Login.js"],"names":["React","useState","useForm","axios","setUserSession","Button","Card","CardHeader","CardBody","FormGroup","Form","Input","InputGroupAddon","InputGroupText","InputGroup","Row","Col","Login","props","register","errors","handleSubmit","onSubmit","data","handleLogin","loading","setLoading","error","setError","post","then","response","token","user","history","push","catch","status","required","email","color","password","e","preventDefault"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\nimport { useForm } from \"react-hook-form\";\nimport axios from \"../../redux/axios\";\nimport { setUserSession } from \"../../Utils/Common\";\n// reactstrap components\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    FormGroup,\n    Form,\n    Input,\n    InputGroupAddon,\n    InputGroupText,\n    InputGroup,\n    Row,\n    Col\n  } from \"reactstrap\";\n  \nconst Login = (props) => {\n  const { register, errors, handleSubmit } = useForm();\n  const onSubmit = (data) => {\n    //console.log(data);\n    handleLogin(data);\n  };\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  // handle button click of login form\n  const handleLogin = (data) => {\n    setError(\"\");\n    setLoading(true);\n    axios\n      .post(\"/login\", data)\n      .then((response) => {\n        setLoading(false);\n        setUserSession(response.data.token, response.data.user);\n        props.history.push(\"/admin/index\");\n      })\n      .catch((error) => {\n        setLoading(false);\n        if (error.response.status === 401) {\n          setError(() => \"Invalid login details\");\n        } else setError(\"Something went wrong. Please try again later.\");\n      });\n  };\n    return (\n        <>\n        <Col lg=\"5\" md=\"7\">\n          <Card className=\"bg-secondary shadow border-0\">\n          \n            <CardBody className=\"px-lg-5 py-lg-5\">\n              <div className=\"text-center text-muted mb-4\">\n                <small>Sign in with credentials</small>\n              </div>\n              <Form role=\"form\" onSubmit={handleSubmit(onSubmit)}>\n                <FormGroup className=\"mb-3\">\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-email-83\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input placeholder=\"Email\" type=\"email\" autoComplete=\"new-email\"\n                    name=\"email\" \n                    ref={register({ required: true })}\n                    autoComplete=\"new-password\"\n                    />\n                    <br />\n                    {errors.email && (\n                      <small style={{ color: \"red\" }}>E-mail is required</small>\n                    )}\n                    <br />\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <InputGroup className=\"input-group-alternative\">\n                    <InputGroupAddon addonType=\"prepend\">\n                      <InputGroupText>\n                        <i className=\"ni ni-lock-circle-open\" />\n                      </InputGroupText>\n                    </InputGroupAddon>\n                    <Input placeholder=\"Password\" type=\"password\" autoComplete=\"new-password\"\n                    name=\"password\"\n                    ref={register({ required: true })}\n                    autoComplete=\"new-password\"\n                    />\n                    <br />\n                    {errors.password && (\n                      <small style={{ color: \"red\" }}>Password is required</small>\n                    )}\n                    <br />   \n                    {error && (\n                      <>\n                        <small style={{ color: \"red\" }}>{error}</small>\n                        <br />\n                      </>\n                    )}\n                    <br />\n                  </InputGroup>\n                </FormGroup>\n                <div className=\"custom-control custom-control-alternative custom-checkbox\">\n                  <input\n                    className=\"custom-control-input\"\n                    id=\" customCheckLogin\"\n                    type=\"checkbox\"\n                  />\n                  <label\n                    className=\"custom-control-label\"\n                    htmlFor=\" customCheckLogin\"\n                  >\n                    <span className=\"text-muted\">Remember me</span>\n                  </label>\n                </div>\n                <div className=\"text-center\">\n                  <Input className=\"my-4\" color=\"primary\" type=\"submit\" value={loading ? \"Loading...\" : \"Login\"} />\n                   \n                </div>\n              </Form>\n            </CardBody>\n          </Card>\n          <Row className=\"mt-3\">\n            <Col xs=\"6\">\n              <a\n                className=\"text-light\"\n                href=\"#pablo\"\n                onClick={e => e.preventDefault()}\n              >\n                <small>Forgot password?</small>\n              </a>\n            </Col>\n          \n          </Row>\n        </Col>\n      </>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}